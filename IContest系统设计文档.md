**IContest系统设计文档**
# 第一部分 引言
## 一、编写目的
编写本文的主要目的是把需求分析得到的用例模型转换为软件结构和数据结构。设计软件结构的具体任务是：将一个复杂系统按功能进行模块划分、建立模块的层次结构及调用关系、确定模块间的接口及人机界面等。数据结构设计包括数据特征的描述、确定数据的结构特性、以及数据库的设计。
本设计是指导概要设计、详细设计和项目实施的重要指导性文件，也是进行系统集成测试和重要依据。
## 二、读者对象
该文档的读者为用户代表、软件分析人员、开发管理人员和测试人员。
​

# 第二部分 项目概述




# 第三部分 设计约束
## 一、需求约束
#### 1、本系统应当遵循的技术标准
数据命名的规则遵循《Objective-C Style Guide》中相关的规定；
#### 2、软、硬件环境标准
本系统采用B/S架构。java和vue编写，数据库采用Mysql。系统部署在CentOS操作系统中。
#### 3、用户界面标准
使用elementui标准UI库，并进行界面全部美工优化。
#### 4、软件质量
1）正确性
系统必须交易能够被正确处理；
2）健壮性
系统应能够7*24小时无故障运行；
3）效率性
系统可以支持100个终端同时发起业务，处理业务的时间不超过10秒钟；
4）易用性
界面应采用图形化操作方式，便于业务人员操作；
5）安全性
报文中的关键数据域以密文的方式传输；
6）可扩展性
应该充分考虑到将来交易的修改或增加，避免需求变更时大规模修改程序。
## 二、编码规约
### 

### 1.命名风格
1.1 代码中的命名均不能以下划线或美元符号开始,也不能以下划线或美元符号结束。
1.2 类名使用 UpperCamelCase 风格，但以下情形例外：DO / BO / DTO / VO / AO /  PO / UID 等。
1.3 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格
### 2.数据库建表规约
2.1 表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只 出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。
2.2 表名不使用复数名词。 
不能以
# 第四部分 图表
## 一、数据库模型图

![](https://raw.githubusercontent.com/Myfootnotsmelly/IContest_page/main/img/dbModel.png)

## 二、 类图

![Service层类图](https://raw.githubusercontent.com/Myfootnotsmelly/IContest_page/main/img/ContestServiceImpl.png)

![Dao层类图](https://raw.githubusercontent.com/Myfootnotsmelly/IContest_page/main/img/ContestMapper.png)




# 第五部分  IContest平台方案设计
## 一、业务功能概要结构
### 1. 个人账户管理模块
该模块提供用户的注册登陆和个人信息维护功能。
#### 1.1 注册

1. 用户进入平台注册页面，输入所需要的注册信息，如用户名，密码，确认密码，手机，邮箱
1. 检测密码和密码是否一致，若是则进入下一流程，否则弹出提示信息
1. 注册信息发送到服务器端，由服务器判断用户名是否与已注册的用户名重复
1. 检查无误后，将用户信息存储到数据库；若有误，则将处理结果相应给Web端



#### 1.2 登陆

1.  用户进入平台登录页面，输入登录所需要的用户名和密码和验证码，点击登录
2.  登录信息发送到服务器，检测验证码是否一致，不一致则返回验证码错误，一致则继续检测用户名密码是否存在且一致，是则登陆成功，跳转到首页，否则提示用户名或密码错误





#### 1.3 个人信息维护

1. 用户登陆后进入个人信息页面，点击编辑信息即可修改个人信息，也可对自己收藏的竞赛活动或主题帖进行删除操作
1. 将修改好后的个人信息传给服务器，服务器根据当前操作的用户修改数据库中对应的个人信息。



### 2.竞赛活动爬虫模块
建站初期的所需的大量竞赛和校内活动信息从各个竞赛官方网站，武汉大学各个院系、社团组织的微信公众号上爬取
#### 2.1 竞赛爬虫
1）爬取器：使用HTTP request库，对所爬取网站建立请求，并获取返回的html页面内容
2）解析器：利于HTML 解析库，自定义正则表达式等，提取html中有效信息
3）存储器：这一层主要封装与数据库交互的API，将解析器得到的数据，保存至Mysql数据库中
​

#### 2.2 校内活动爬虫
校内活动信息拟从微信公众号上爬取，项目中采用开源微信爬虫项目进行爬取，项目地址为：[https://github.com/striver-ing/wechat-spider](https://github.com/striver-ing/wechat-spider)
### 3.平台内容模块
#### 3.1 竞赛模块

1. 内容浏览。用户可以在平台首页浏览到各种竞赛信息，点击对应的竞赛即可跳转到该竞赛的详情页面，在详情页面中可以查看该竞赛的公告，举办时间地点要求等信息。
1. 根据关键字检索竞赛。用户可以在搜索栏搜索自己感兴趣的竞赛，服务器会从数据库自动检索对应的竞赛信息展示给用户。
1. 收藏功能。看到自己喜欢的竞赛，点击收藏，即可将该竞赛加入个人收藏竞赛列表，之后进入个人信息页面，点击我的竞赛收藏，即可浏览自己收藏的竞赛。
#### 3.2 校内活动模块

1. 内容浏览。用户可以在平台首页浏览到各种校内活动信息，点击对应的活动即可跳转到该活动的详情页面，在详情页面中可以查看该活动的公告，举办时间地点要求等信息。
1. 根据关键字检索校内活动。用户可以在搜索栏搜索自己感兴趣的活动，服务器会从数据库自动检索对应的活动信息展示给用户。
1. 收藏功能。看到自己喜欢的活动，点击收藏，即可将该活动加入个人收藏活动列表，之后进入个人信息页面，点击我的活动收藏，即可浏览自己收藏的活动。
### 4.讨论区模块
该模块提供用户在讨论区发帖，回复，收藏帖子，查询帖子的功能。
#### 4.1 发布主题帖

1. 用户在讨论区页面点击"发布主题帖"，进入"创建主题帖"页面
1. 用户输入主题，专题，主题帖内容等信息，并发送到服务器端
1. 服务器返回处理结果



#### 4.2 回复主题帖

1. 用户在某个主题帖下可以发表个人评论，输入个人评论内容，点击"发表评论"，发送到服务器端
1. 服务器返回处理结果



#### 4.3 回复个人评论

1. 用户可以回复其他用户的评论，点击其他用户的个人评论下的"回复"按钮
1. 输入评论信息，点击"发表评论"，发送到服务器端
1. 服务器返回处理结果



#### 4.4 收藏帖子

1. 用户在感兴趣的主题帖页面可以点击"收藏"按钮，即可将该活动加入个人收藏活动列表，之后进入个人信息页面，点击我的主题帖收藏，即可浏览自己收藏的活动。



#### 4.5 查询主题帖

1. 用户在讨论区首页可以使用关键字查询，输入关键字后，点击"搜索"，将内容发送到服务器端
1. 服务器检索数据库，返回查询结果
### 5.组队系统模块
#### 5.1 查看队伍信息

1. 用户在登录以后可以在上方的队伍一栏点击查看所有的队伍，也可以搜索队伍。
1. 点击队伍后，根据对应的队伍id查找到对应队伍的信息，并在队伍详情界面展示。



#### 5.2 申请加入队伍

1. 在某一队伍详情页可点击申请加入队伍，服务器收到请求后会向对应组的组长发送申请信息。
1. 组长在申请信息框中可选择同意或拒绝申请，服务器响应后会把申请结果发送给申请用户。



#### 5.3 创建新的队伍

1. 用户可以在队伍一栏的上方或是用户个人中心中的我的队伍一栏点击新建队伍，填写队伍信息，前端需完成队伍信息是否规范的检查。符合标准后提交创建表格。
1. 服务器收到请求后检索数据库若无相同名称的队伍后添加该队伍。



#### 5.4 队长添加成员

1. 在个人中心队伍管理那一页，如果用户是队长，那么可以搜索并将成员加入到队伍中。
1. 服务器收到邀请加入请求后，会把请求信息发送给对应的用户，用户也会收到相应的信息，可以拒绝或是同意。



#### 5.5 队长删除成员

1. 在个人中心队伍管理那一页，如果用户是队长，那么可以将成员删除。
1. 对象用户被删除后，会收到相应的信息。



#### 5.6 成员退出队伍

1. 在个人中心队伍管理那一页，如果用户是队员，那么可以选择退出队伍。
1. 成员退出队伍后，队长会收到相应的消息。



#### 5.7 队长修改队伍信息

1. 在个人中心队伍管理那一页，如果用户是队长，那么可以修改队伍信息。



#### 5.8 队长解散队伍

1. 在个人中心队伍管理那一页，如果用户是队长，那么可以解散队伍
1. 队长删除队伍后，所有队员会收到信息。



### 6.平台管理模块


#### 6.1 平台竞赛活动内容管理
1）在平台运行初期，平台管理员需要定期将爬取到的信息发布在网站上，管理员登陆后点击 "内容管理--查看爬虫信息" ，对爬虫信息进行甄别，再编辑后再进行发布
2）平台运行进入成熟期后，平台竞赛信息内容由认证用户发布，管理员只需对该部分内容进行质量检查和维护
​

#### 6.2 平台讨论区管理
平台管理员发现主题帖或回复有违规内容可以将其删除，也可对相关帖子进行加精。
